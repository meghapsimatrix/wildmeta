<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate p-values with cluster wild bootstrapping for meta-regression models. — Wald_test_cwb • wildmeta</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate p-values with cluster wild bootstrapping for meta-regression models. — Wald_test_cwb"><meta name="description" content="Calculate p-values for single coefficient and multiple contrast
hypothesis tests using cluster wild bootstrapping."><meta property="og:description" content="Calculate p-values for single coefficient and multiple contrast
hypothesis tests using cluster wild bootstrapping."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">wildmeta</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cwbmeta.html">Cluster Wild Bootstrapping for Meta-Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/meghapsimatrix/wildmeta/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate p-values with cluster wild bootstrapping for meta-regression models.</h1>
      <small class="dont-index">Source: <a href="https://github.com/meghapsimatrix/wildmeta/blob/HEAD/R/Wald_test_wildmeta.R" class="external-link"><code>R/Wald_test_wildmeta.R</code></a></small>
      <div class="d-none name"><code>Wald_test_cwb.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate p-values for single coefficient and multiple contrast
hypothesis tests using cluster wild bootstrapping.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Wald_test_cwb</span><span class="op">(</span></span>
<span>  <span class="va">full_model</span>,</span>
<span>  <span class="va">constraints</span>,</span>
<span>  <span class="va">R</span>,</span>
<span>  cluster <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  auxiliary_dist <span class="op">=</span> <span class="st">"Rademacher"</span>,</span>
<span>  adjust <span class="op">=</span> <span class="st">"CR0"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"CR0"</span>,</span>
<span>  test <span class="op">=</span> <span class="st">"Naive-F"</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  future_args <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-full-model">full_model<a class="anchor" aria-label="anchor" href="#arg-full-model"></a></dt>
<dd><p>Model fit using <code><a href="https://rdrr.io/pkg/robumeta/man/robu.html" class="external-link">robumeta::robu()</a></code>,
<code><a href="https://wviechtb.github.io/metafor/reference/rma.mv.html" class="external-link">metafor::rma.mv()</a></code>, or <code><a href="https://wviechtb.github.io/metafor/reference/rma.uni.html" class="external-link">metafor::rma.uni()</a></code> that includes the full set of moderators in the
meta-regression model.</p></dd>


<dt id="arg-constraints">constraints<a class="anchor" aria-label="anchor" href="#arg-constraints"></a></dt>
<dd><p>A q X p constraint matrix be tested. Alternately, a
function to create such a matrix, specified using
<code><a href="http://jepusto.github.io/clubSandwich/reference/constraint_matrices.html" class="external-link">clubSandwich::constrain_equal()</a></code> or
<code><a href="http://jepusto.github.io/clubSandwich/reference/constraint_matrices.html" class="external-link">clubSandwich::constrain_zero()</a></code>.</p></dd>


<dt id="arg-r">R<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>Number of bootstrap replications.</p></dd>


<dt id="arg-cluster">cluster<a class="anchor" aria-label="anchor" href="#arg-cluster"></a></dt>
<dd><p>Vector of identifiers indicating which observations
belong to the same cluster. If <code>NULL</code> (the default), then the
clustering variable will be inferred based on the structure of
<code>full_mod</code>.</p></dd>


<dt id="arg-auxiliary-dist">auxiliary_dist<a class="anchor" aria-label="anchor" href="#arg-auxiliary-dist"></a></dt>
<dd><p>Character string indicating the auxiliary distribution
to be used for cluster wild bootstrapping, with available options:
"Rademacher", "Mammen", "Webb six", "uniform", "standard normal". The
default is set to "Rademacher." We recommend the Rademacher distribution
for models that have at least 10 clusters. For models with less than 10
clusters, we recommend the use of "Webb six" distribution.</p></dd>


<dt id="arg-adjust">adjust<a class="anchor" aria-label="anchor" href="#arg-adjust"></a></dt>
<dd><p>Character string specifying which small-sample adjustment
should be used to multiply the residuals by. The available options are
<code>"CRO"</code>, <code>"CR1"</code>, <code>"CR2"</code>, <code>"CR3"</code>, or <code>"CR4"</code>,
with a default of <code>"CRO"</code>.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Character string specifying which small-sample adjustment is used
to calculate the Wald test statistic. The available options are
<code>"CRO"</code>, <code>"CR1"</code>, <code>"CR2"</code>, <code>"CR3"</code>, or <code>"CR4"</code>,
with a default of <code>"CRO"</code>.</p></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>Character string specifying which (if any) small-sample
adjustment is used in calculating the test statistic. Default is
<code>"Naive-F"</code>, which does not make any small-sample adjustment.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Optional seed value to ensure reproducibility.</p></dd>


<dt id="arg-future-args">future_args<a class="anchor" aria-label="anchor" href="#arg-future-args"></a></dt>
<dd><p>Optional list of additional arguments passed to the
<code>future_*()</code> functions used in calculating results across bootstrap
replications. Ignored if the future.apply package is not available.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code> containing the name of the test, the adjustment
used for the bootstrap process, the type of variance-covariance matrix
used, the type of test statistic, the number of bootstrap replicates, and
the bootstrapped p-value.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://jepusto.github.io/clubSandwich/" class="external-link">clubSandwich</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/zackfisher/robumeta" class="external-link">robumeta</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/robumeta/man/robu.html" class="external-link">robu</a></span><span class="op">(</span><span class="va">d</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">study_type</span> <span class="op">+</span> <span class="va">hrs</span> <span class="op">+</span> <span class="va">test</span>,</span></span>
<span class="r-in"><span>             studynum <span class="op">=</span> <span class="va">study</span>,</span></span>
<span class="r-in"><span>              var.eff.size <span class="op">=</span> <span class="va">V</span>,</span></span>
<span class="r-in"><span>              small <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>              data <span class="op">=</span> <span class="va">SATcoaching</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">C_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://jepusto.github.io/clubSandwich/reference/constraint_matrices.html" class="external-link">constrain_equal</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, coefs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">Wald_test_cwb</span><span class="op">(</span>full_model <span class="op">=</span> <span class="va">model</span>,</span></span>
<span class="r-in"><span>              constraints <span class="op">=</span> <span class="va">C_mat</span>,</span></span>
<span class="r-in"><span>              R <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Test Adjustment CR_type Statistic  R p_val</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  CWB        CR0     CR0   Naive-F 12   0.5</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Equivalent, using constrain_equal()</span></span></span>
<span class="r-in"><span><span class="fu">Wald_test_cwb</span><span class="op">(</span>full_model <span class="op">=</span> <span class="va">model</span>,</span></span>
<span class="r-in"><span>              constraints <span class="op">=</span> <span class="fu"><a href="http://jepusto.github.io/clubSandwich/reference/constraint_matrices.html" class="external-link">constrain_equal</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              R <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Test Adjustment CR_type Statistic  R     p_val</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  CWB        CR0     CR0   Naive-F 12 0.5833333</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://meghapsimatrix.com/" class="external-link">Megha Joshi</a>, <a href="https://www.jepusto.com/" class="external-link">James Pustejovsky</a>, Pierce Cappelli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

